<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org"
    th:replace="layout/base::html(${options['archives_title'] ?: 'Archives'}, ~{::resources}, ~{::content}, 'tag-template')">
<head>
    <th:block th:fragment="resources">
        <link th:if="${posts.hasNext()}" rel="next" th:href="@{${#strings.concat('/', options['archives_prefix'] ?: 'archives',
            '/page/', posts.nextOrLastPageable().pageNumber + 1)}}">
        <style>
            .post-feed {display: block}
            .post-card {min-height: auto}
        </style>
    </th:block>
</head>

<body>
<th:block th:fragment="content">
    <section class="outer">
        <div class="inner posts">
            <div class="post-feed">
                <section class="post-card post-card-large">
                    <div th:unless="${#strings.isEmpty(settings['archives_cover'])}" class="post-card-image-link">
                        <img class="post-card-image" th:src="${settings['archives_cover']}" />
                    </div>

                    <div class="post-card-content">
                        <div class="post-card-content-link">
                            <header class="post-card-header">
                                <h2 class="post-card-title" th:text="${options['archives_title'] ?: 'Archives'}">Archives</h2>
                            </header>
                        </div>
                    </div>
                </section>

                <th:block th:each="archive : ${archives}">
                    <article class="post-card">
                        <h2 th:text="${archive.year + '年'}">年份</h2>
                        <ul class="listing">
                            <li th:each="post : ${archive.posts}">
                                <span th:text="${#dates.format(post.createTime,'MM月dd日')}">MM月dd日</span>
                                <a th:href="@{${post.fullPath}}" th:text="${post.title}">Post title</a>
                            </li>
                        </ul>
                    </article>
                </th:block>
            </div>
        </div>
    </section>
</th:block>

</body>
</html>